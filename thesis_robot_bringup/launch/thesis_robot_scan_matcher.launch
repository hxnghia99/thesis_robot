<launch>
    <arg name="rviz"            default="false"/>

    <include if="$(arg rviz)" file="$(find thesis_robot_bringup)/launch/thesis_robot_remote.launch"/>

    <!--node pkg="tf" type="static_transform_publisher" name="baselink_laser" args="0 0 0 0 0 0 /base_link /laser 100"/-->
    

    <node pkg="laser_scan_matcher" type="laser_scan_matcher_node" name="scan_matcher" output="screen">
        <remap from="scan"          to="scan"/>
        <remap from="cloud"         to="/camera/depth/points"/>
        <remap from="imu/data"      to="imu/data_compass"/>
        <remap from="odom"          to="odom"/>
        <remap from="vel"           to="/mobile_base_controller/cmd_vel"/>

        <param name="fixed_frame"       value="odom"/>
        <param name="base_frame"        value="base_footprint"/>

        <param name="use_imu"           value="false"/>
        <param name="use_odom"          value="false"/>
        <param name="use_vel"           value="false"/>

        <param name="publish_tf"        value="true"/>
        <param name="publish_pose"      value="true"/>
        <param name="publish_vel"       value="true"/>

        <param name="max_iterations"    value="10"/>

        <param name="use_alpha_beta"    value="true"/>
    </node>

    <node if="$(arg rviz)" pkg="rviz" type="rviz" name="rviz" args="-d $(find thesis_robot_bringup)/rviz/thesis_robot_scan_matcher.rviz"/>

</launch>